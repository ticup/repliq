{"version":3,"file":"RepliqServer.js","sourceRoot":"","sources":["RepliqServer.ts"],"names":["RepliqServer","RepliqServer.constructor","RepliqServer.handleRpc","RepliqServer.handleYieldPull","RepliqServer.yield","RepliqServer.notifyChanged","RepliqServer.broadcastRound","RepliqServer.newRound","RepliqServer.onConnect","RepliqServer.stop","RepliqServer.addReference","RepliqServer.export"],"mappings":"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GAAGA,CAACA,CAACA,CAACA;YACnBA,IAAIA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA;YACzBA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,QAAQA,EAAEA,CAACA;QACnCA,CAACA;QAGDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA,CAACA;YAC3BA,MAAMA,CAACA,yBAAyBA,CAACA,CAACA;YAClCA,IAAIA,CAACA,QAAQA,CAACA,OAAOA,CAACA,UAACA,KAAYA;gBAC/BA,KAAKA,CAACA,WAAWA,CAACA,KAAIA,CAACA,UAAUA,EAAEA,CAACA,CAACA;gBACrCA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;YACvBA,CAACA,CAACA,CAACA;YACHA,IAAIA,WAAWA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;YAC7CA,IAAIA,CAACA,QAAQA,CAACA,OAAOA,CAACA,UAACA,CAACA;gBACpBA,CAACA,CAACA,UAAUA,CAACA,OAAOA,CAACA,UAACA,EAAEA;oBACpBA,EAAEA,CAACA,CAACA,EAAEA,CAACA,QAAQA,KAAKA,eAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA;wBACzCA,KAAIA,CAACA,YAAYA,CAACA,CAACA,CAACA,WAAWA,EAAEA,EAAEA,EAAEA,CAACA,QAAQA,CAACA,CAACA;oBACpDA,CAACA;gBACLA,CAACA,CAACA,CAACA;gBACHA,KAAIA,CAACA,cAAcA,CAACA,CAACA,CAACA,CAAAA;YAC1BA,CAACA,CAACA,CAACA;YACHA,IAAIA,CAACA,QAAQA,GAAGA,EAAEA,CAACA;YAEnBA,WAAWA,CAACA,OAAOA,CAACA,UAACA,GAAWA,IAAOA,GAAGA,CAACA,IAAIA,CAACA,eAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,GAAGA,CAACA,IAAIA,CAACA,eAAMA,CAACA,MAAMA,CAACA,CAAAA,CAACA,CAACA,CAACA,CAACA;QACxGA,CAACA;QACDA,IAAI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"}